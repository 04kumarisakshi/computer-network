#include<stdio.h>#include<stdlib.h>#include<string.h>#include<sys/types.h>#include<sys/socket.h>#include<sys/un.h>#include<unistd.h>#define MAXDATA 1000int check(char data[],int size){    int i, count=0;    for(i=0;i<=size;i++){        if(data[i]=='1')            count++;        else if(data[i]<'0' || data[i]>'1'){            printf("Sorry you have sent me an integer and not a bit stream!\n");            return -1;            }    }    //printf("Count of 1: %d.\n", count);    return count;}void parityadd(char *data,int count){   int size=strlen(data);   //printf("Count of 1: %d.\n", count);   if(count%2!=0){         if(size<=MAXDATA){            data[size]='1';            printf("%s\n",data);         }        else            printf("Too large of a bit stream!\n");    }    data[size+1]=0;}int main(){    unlink("./mysocket");	int ss=socket(AF_UNIX, SOCK_STREAM, 0);	struct sockaddr_un saddr;	saddr.sun_family= AF_UNIX;	strcpy(saddr.sun_path,"./mysocket");	bind(ss,(struct sockaddr *)&saddr, sizeof(saddr));	listen(ss,100);	struct sockaddr_un caddr;	int addrlen=sizeof(caddr);	int ts=accept(ss, (struct sockaddr *)&caddr, &addrlen);	char data[MAXDATA];	while(1){		read(ts,(void *)data, MAXDATA);		printf("Read: %s.\n",data);		int size=strlen(data);		int count=check(data,size-1);		if(count){		    parityadd(data,count);		}		printf("The modified data is %s.\n",data);		write(ts,(void *)data,strlen(data)+2);	}    close(ts);    close(ss);	return 0;}